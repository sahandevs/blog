### مقایسه و انتخاب یک الگوریتم

حالا که با 4 تا از الگوریتم های
rate limit
آشنا شدیم، بیایم اینارو با هم مقایسه کنیم و در نهایت یکی از اون‌هارو
برای استفاده توی
CDN
مون انتخاب کنیم.

#### مموری

- `fixed window` ‌برای هر کاربر مموری ثابتی نیاز داره و رشد نمی‌کنه.
- `leaky bucket` مموری ثابتی نداره اما حداکثر مورد نیاز نسبت به قانون مشخص میشه.
- `sliding window log` برای هر کاربر مموری رشد می‌کنه و حداکثری وجود نداره.
- `sliding window` برای هر کاربر مموری ثابتی نیاز داره و رشد نمی‌کنه.

#### درستی

- `fixed window` این مشکل رو داره که شمارنده ها یک‌دفعه در تایم های مشخص ریست می‌شن.
- `leaky bucket` رفتاری داره که کاربران معمولا انتظار اون رو ندارن.
معمولا وب‌سایت ها می‌خوان که توی یک بازه زمانی یک تعداد فقط درخواست رد بشه نه اینکه
در یک بازه زمانی با یک نرخ ثابت درخواست داشته باشیم. این باعث میشه استفاده کننده به اشتباه بیوفته.
- `sliding window log` درست‌ترین خروجی رو داره.
- `sliding window` خروجی تقریبی اما خیلی خوبی داره.

از لحاظ مموری
`fixed window` و `sliding window`
بهترین هستند و درست‌ترین بین این دوتا، 
`fixed window` هست.
پس بهتره در ادامه کار، با این الگوریتم جلو بریم.