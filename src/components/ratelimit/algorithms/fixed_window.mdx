### الگوریتم Fixed Window

توی الگوریتم
Fixed Window
اول یک مبدا شروع زمان در نظر میگیریم که معمولا توی پیاده سازی ها، از
[Unix Time](https://en.wikipedia.org/wiki/Unix_time)
استفاده می‌شه. بعد از مشخص کردن مبدا، از مبدا شروع می‌کنیم و هر
t ثانیه
یک علامت میزاریم
(که اینجا t همون ۱۰ ثانیه قانونمون هست).
از آخر بازه های بین هر علامت رو بازه زمانی قانونمون در نظر میگیریم و هر نفر اجازه داره فقط
x
(که توی مثال برابر با ۵ است) درخواست در این بازه ها ارسال کنه.


<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 667.8180133490393 191.87398410556307" width="667.8180133490393" height="191.87398410556307">

<rect x="0" y="0" width="100%" height="191.87398410556307" fill="#ffffff"></rect><g stroke-linecap="round"><g transform="translate(37.1655742294401 68.42556043228996) rotate(0 228.80908604409117 0)"><path d="M0 0 C182.91 0, 365.82 0, 457.62 0 M0 0 C110.07 0, 220.15 0, 457.62 0" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(504.4473453194848 69.04901843240924) rotate(0 76.68533401477725 0)"><path d="M0 0 C47.67 0, 95.35 0, 153.37 0" stroke="#000000" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g></g><g stroke-linecap="round"><g transform="translate(36.23038722926168 39.060688626630736) rotate(0 0 28.990797005586614)"><path d="M0 0 C0 13.17, 0 26.34, 0 57.98 M0 0 C0 15.3, 0 30.6, 0 57.98" stroke="#a61e4d" stroke-width="1" fill="none"></path></g></g><g transform="translate(10 10) rotate(0 26.441546516206387 9.859559717907473)"><text x="26.441546516206387" y="7.859559717907466" font-family="Cascadia, Segoe UI Emoji" font-size="8.244725682401908px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">origin</text><text x="26.441546516206387" y="17.71911943581493" font-family="Cascadia, Segoe UI Emoji" font-size="8.244725682401908px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">(unix time)</text></g><g stroke-linecap="round"><g transform="translate(246.67158415671616 38.98386969447449) rotate(0 0 28.990797005586614)"><path d="M0 0 C0 17.79, 0 35.59, 0 57.98 M0 0 C0 19.69, 0 39.37, 0 57.98" stroke="#a61e4d" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round" transform="translate(37.18969611634776 69.22158270030104) rotate(0 102.24711201970274 13.71607600264312)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.26 6.4 C1.13 4.8, 2.51 3.21, 4.99 0.36 M-0.26 6.4 C1.38 4.51, 3.03 2.61, 4.99 0.36 M0.13 12.04 C3.11 8.62, 6.08 5.2, 10.63 -0.03 M0.13 12.04 C2.38 9.45, 4.64 6.86, 10.63 -0.03 M-0.13 18.44 C4.03 13.65, 8.19 8.87, 15.62 0.33 M-0.13 18.44 C5.54 11.92, 11.2 5.4, 15.62 0.33 M0.27 24.08 C5.74 17.78, 11.22 11.48, 21.26 -0.07 M0.27 24.08 C7.67 15.56, 15.07 7.05, 21.26 -0.07 M1.32 28.97 C9.03 20.09, 16.75 11.22, 26.25 0.29 M1.32 28.97 C8.05 21.22, 14.78 13.48, 26.25 0.29 M6.96 28.58 C12.36 22.36, 17.76 16.15, 31.89 -0.1 M6.96 28.58 C13.83 20.68, 20.69 12.78, 31.89 -0.1 M11.95 28.94 C20.57 19.01, 29.2 9.09, 36.88 0.26 M11.95 28.94 C17.7 22.31, 23.46 15.69, 36.88 0.26 M17.59 28.54 C22.73 22.63, 27.87 16.71, 42.52 -0.14 M17.59 28.54 C25.32 19.65, 33.05 10.75, 42.52 -0.14 M22.58 28.9 C28.52 22.06, 34.47 15.23, 47.51 0.22 M22.58 28.9 C27.82 22.87, 33.07 16.83, 47.51 0.22 M28.22 28.51 C33.3 22.67, 38.38 16.82, 53.15 -0.17 M28.22 28.51 C37.33 18.03, 46.44 7.55, 53.15 -0.17 M33.21 28.87 C42.44 18.25, 51.67 7.62, 58.14 0.19 M33.21 28.87 C42.13 18.6, 51.05 8.34, 58.14 0.19 M38.85 28.47 C46.38 19.81, 53.9 11.16, 63.78 -0.21 M38.85 28.47 C47.11 18.97, 55.37 9.46, 63.78 -0.21 M43.84 28.83 C49.92 21.83, 56 14.84, 68.77 0.15 M43.84 28.83 C48.92 22.99, 54 17.14, 68.77 0.15 M49.48 28.44 C57.27 19.48, 65.06 10.52, 74.41 -0.24 M49.48 28.44 C56.44 20.43, 63.4 12.43, 74.41 -0.24 M54.47 28.8 C61.46 20.76, 68.45 12.72, 79.4 0.12 M54.47 28.8 C60.95 21.34, 67.44 13.87, 79.4 0.12 M60.11 28.4 C69.23 17.91, 78.35 7.42, 85.04 -0.28 M60.11 28.4 C66.62 20.91, 73.13 13.43, 85.04 -0.28 M65.1 28.76 C70.56 22.48, 76.03 16.19, 90.03 0.08 M65.1 28.76 C70.58 22.45, 76.07 16.15, 90.03 0.08 M70.08 29.12 C78.04 19.97, 86 10.82, 95.67 -0.31 M70.08 29.12 C78.04 19.97, 86 10.81, 95.67 -0.31 M75.73 28.73 C83.68 19.58, 91.63 10.44, 100.66 0.05 M75.73 28.73 C84.64 18.48, 93.55 8.22, 100.66 0.05 M80.71 29.09 C88.8 19.79, 96.88 10.49, 106.3 -0.34 M80.71 29.09 C86.95 21.91, 93.19 14.74, 106.3 -0.34 M86.36 28.69 C95.26 18.46, 104.15 8.22, 111.29 0.02 M86.36 28.69 C94.54 19.28, 102.73 9.86, 111.29 0.02 M91.34 29.05 C98 21.39, 104.66 13.73, 116.27 0.38 M91.34 29.05 C97.72 21.72, 104.09 14.39, 116.27 0.38 M96.99 28.66 C102.7 22.09, 108.41 15.52, 121.92 -0.02 M96.99 28.66 C106.19 18.07, 115.4 7.48, 121.92 -0.02 M101.97 29.02 C111.2 18.41, 120.43 7.79, 126.91 0.34 M101.97 29.02 C110.05 19.73, 118.13 10.44, 126.91 0.34 M107.62 28.63 C116.35 18.58, 125.08 8.54, 132.55 -0.05 M107.62 28.63 C115.06 20.07, 122.5 11.51, 132.55 -0.05 M112.6 28.99 C121.3 18.98, 130 8.97, 137.54 0.31 M112.6 28.99 C117.78 23.03, 122.95 17.08, 137.54 0.31 M118.25 28.59 C124.57 21.31, 130.9 14.04, 143.18 -0.09 M118.25 28.59 C126.1 19.55, 133.96 10.52, 143.18 -0.09 M123.23 28.95 C129.38 21.88, 135.53 14.81, 148.17 0.27 M123.23 28.95 C129.37 21.89, 135.51 14.83, 148.17 0.27 M128.88 28.56 C138.65 17.32, 148.42 6.08, 153.81 -0.12 M128.88 28.56 C138.85 17.09, 148.81 5.62, 153.81 -0.12 M133.87 28.92 C139.46 22.48, 145.05 16.04, 158.8 0.24 M133.87 28.92 C142.87 18.56, 151.87 8.2, 158.8 0.24 M139.51 28.52 C147.88 18.89, 156.25 9.26, 164.44 -0.16 M139.51 28.52 C147.35 19.5, 155.19 10.49, 164.44 -0.16 M144.5 28.88 C153.55 18.47, 162.6 8.06, 169.43 0.2 M144.5 28.88 C150.85 21.57, 157.21 14.26, 169.43 0.2 M150.14 28.49 C159.49 17.73, 168.85 6.97, 175.07 -0.19 M150.14 28.49 C155.17 22.69, 160.21 16.9, 175.07 -0.19 M155.13 28.85 C161.64 21.35, 168.16 13.85, 180.06 0.17 M155.13 28.85 C160.39 22.79, 165.66 16.73, 180.06 0.17 M160.77 28.45 C168.71 19.32, 176.65 10.19, 185.7 -0.23 M160.77 28.45 C170.41 17.36, 180.06 6.26, 185.7 -0.23 M165.76 28.81 C171.68 22, 177.6 15.18, 190.69 0.13 M165.76 28.81 C173.11 20.36, 180.45 11.9, 190.69 0.13 M171.4 28.42 C178.7 20.02, 186 11.62, 196.33 -0.26 M171.4 28.42 C180.74 17.68, 190.07 6.93, 196.33 -0.26 M176.39 28.78 C184.56 19.37, 192.74 9.96, 201.32 0.1 M176.39 28.78 C185.16 18.68, 193.94 8.59, 201.32 0.1 M182.03 28.38 C190.16 19.02, 198.3 9.67, 205.65 1.21 M182.03 28.38 C187.98 21.54, 193.93 14.69, 205.65 1.21 M187.02 28.74 C192.5 22.44, 197.98 16.13, 206.04 6.86 M187.02 28.74 C191.02 24.14, 195.02 19.54, 206.04 6.86 M192 29.1 C195.28 25.33, 198.56 21.56, 205.78 13.25 M192 29.1 C195.96 24.56, 199.91 20.01, 205.78 13.25 M197.65 28.71 C200.73 25.16, 203.82 21.61, 205.52 19.65 M197.65 28.71 C199.84 26.19, 202.03 23.67, 205.52 19.65 M202.63 29.07 C203.48 28.1, 204.32 27.13, 205.91 25.3 M202.63 29.07 C203.71 27.83, 204.79 26.59, 205.91 25.3" stroke="#e64980" stroke-width="0.5" fill="none"></path><path d="M0 0 C50.9 0, 101.81 0, 204.49 0 M0 0 C71.87 0, 143.74 0, 204.49 0 M204.49 0 C204.49 5.75, 204.49 11.5, 204.49 27.43 M204.49 0 C204.49 10.17, 204.49 20.34, 204.49 27.43 M204.49 27.43 C156.25 27.43, 108 27.43, 0 27.43 M204.49 27.43 C145.56 27.43, 86.63 27.43, 0 27.43 M0 27.43 C0 19.69, 0 11.95, 0 0 M0 27.43 C0 18.51, 0 9.59, 0 0" stroke="transparent" stroke-width="1" fill="none"></path></g><g transform="translate(130.3654942343041 68.44226020015083) rotate(0 6.364193638068457 13.435519902588993)"><text x="6.364193638068471" y="21.871039805177986" font-family="Cascadia, Segoe UI Emoji" font-size="22.628244046465692px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">t</text></g><g transform="translate(218.8857215507449 16.111352353472796) rotate(0 28.20932060609107 5.424869347325227)"><text x="28.209320606091094" y="8.849738694650428" font-family="Cascadia, Segoe UI Emoji" font-size="9.550615223440923px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">origin + t</text></g><g stroke-linecap="round"><g transform="translate(246.74098096982408 41.7031485610695) rotate(0 0 28.990797005586614)"><path d="M0 0 C0 15.68, 0 31.36, 0 57.98 M0 0 C0 16.55, 0 33.1, 0 57.98" stroke="#a61e4d" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(457.182177897282 41.62632962891155) rotate(0 0 28.990797005586614)"><path d="M0 0 C0 13.84, 0 27.69, 0 57.98 M0 0 C0 18.8, 0 37.61, 0 57.98" stroke="#a61e4d" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round" transform="translate(249.70028985691266 69.8640426347381) rotate(0 102.24711201970274 13.71607600264312)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.26 6.4 C1.08 4.85, 2.42 3.31, 4.99 0.36 M-0.26 6.4 C0.98 4.97, 2.21 3.55, 4.99 0.36 M0.13 12.04 C2.69 9.1, 5.25 6.16, 10.63 -0.03 M0.13 12.04 C3.98 7.62, 7.82 3.2, 10.63 -0.03 M-0.13 18.44 C4.34 13.29, 8.82 8.15, 15.62 0.33 M-0.13 18.44 C3.63 14.11, 7.4 9.78, 15.62 0.33 M0.27 24.08 C7.15 16.16, 14.03 8.24, 21.26 -0.07 M0.27 24.08 C4.68 19, 9.1 13.92, 21.26 -0.07 M1.32 28.97 C6.52 22.99, 11.72 17, 26.25 0.29 M1.32 28.97 C6.57 22.92, 11.83 16.87, 26.25 0.29 M6.96 28.58 C12.68 22, 18.39 15.42, 31.89 -0.1 M6.96 28.58 C15.86 18.34, 24.75 8.11, 31.89 -0.1 M11.95 28.94 C20.69 18.88, 29.43 8.83, 36.88 0.26 M11.95 28.94 C21.01 18.51, 30.08 8.08, 36.88 0.26 M17.59 28.54 C27.02 17.7, 36.44 6.85, 42.52 -0.14 M17.59 28.54 C26.51 18.28, 35.43 8.02, 42.52 -0.14 M22.58 28.9 C31.3 18.87, 40.02 8.84, 47.51 0.22 M22.58 28.9 C29.81 20.58, 37.04 12.27, 47.51 0.22 M28.22 28.51 C36.28 19.23, 44.35 9.95, 53.15 -0.17 M28.22 28.51 C36.87 18.56, 45.52 8.6, 53.15 -0.17 M33.21 28.87 C42.29 18.41, 51.38 7.96, 58.14 0.19 M33.21 28.87 C42.29 18.41, 51.38 7.96, 58.14 0.19 M38.85 28.47 C47.16 18.92, 55.46 9.36, 63.78 -0.21 M38.85 28.47 C44.82 21.61, 50.78 14.74, 63.78 -0.21 M43.84 28.83 C50.62 21.03, 57.41 13.22, 68.77 0.15 M43.84 28.83 C52.38 19.01, 60.92 9.19, 68.77 0.15 M49.48 28.44 C59.3 17.14, 69.13 5.84, 74.41 -0.24 M49.48 28.44 C57.73 18.94, 65.99 9.45, 74.41 -0.24 M54.47 28.8 C61.17 21.09, 67.87 13.38, 79.4 0.12 M54.47 28.8 C63.47 18.44, 72.47 8.09, 79.4 0.12 M60.11 28.4 C65.38 22.34, 70.64 16.29, 85.04 -0.28 M60.11 28.4 C67.58 19.81, 75.05 11.21, 85.04 -0.28 M65.1 28.76 C71.8 21.05, 78.51 13.34, 90.03 0.08 M65.1 28.76 C73.53 19.07, 81.95 9.37, 90.03 0.08 M70.08 29.12 C75.43 22.97, 80.78 16.82, 95.67 -0.31 M70.08 29.12 C75.3 23.13, 80.51 17.13, 95.67 -0.31 M75.73 28.73 C83.36 19.95, 91 11.16, 100.66 0.05 M75.73 28.73 C85.02 18.03, 94.32 7.34, 100.66 0.05 M80.71 29.09 C89.16 19.37, 97.61 9.65, 106.3 -0.34 M80.71 29.09 C87.96 20.75, 95.21 12.41, 106.3 -0.34 M86.36 28.69 C94.66 19.15, 102.96 9.6, 111.29 0.02 M86.36 28.69 C94.99 18.77, 103.62 8.84, 111.29 0.02 M91.34 29.05 C97.24 22.28, 103.13 15.5, 116.27 0.38 M91.34 29.05 C100.3 18.75, 109.26 8.44, 116.27 0.38 M96.99 28.66 C102.47 22.35, 107.96 16.04, 121.92 -0.02 M96.99 28.66 C104.96 19.49, 112.92 10.33, 121.92 -0.02 M101.97 29.02 C109.65 20.19, 117.33 11.36, 126.91 0.34 M101.97 29.02 C107.82 22.29, 113.67 15.56, 126.91 0.34 M107.62 28.63 C116.52 18.38, 125.42 8.14, 132.55 -0.05 M107.62 28.63 C116 18.98, 124.39 9.34, 132.55 -0.05 M112.6 28.99 C118.69 21.99, 124.77 14.99, 137.54 0.31 M112.6 28.99 C119.9 20.59, 127.2 12.2, 137.54 0.31 M118.25 28.59 C124.55 21.34, 130.86 14.08, 143.18 -0.09 M118.25 28.59 C123.75 22.26, 129.25 15.94, 143.18 -0.09 M123.23 28.95 C129.78 21.42, 136.33 13.89, 148.17 0.27 M123.23 28.95 C130.67 20.39, 138.11 11.84, 148.17 0.27 M128.88 28.56 C137.22 18.96, 145.56 9.37, 153.81 -0.12 M128.88 28.56 C138.3 17.71, 147.73 6.87, 153.81 -0.12 M133.87 28.92 C141.35 20.31, 148.83 11.7, 158.8 0.24 M133.87 28.92 C143.79 17.5, 153.71 6.09, 158.8 0.24 M139.51 28.52 C148.18 18.54, 156.86 8.56, 164.44 -0.16 M139.51 28.52 C149.37 17.18, 159.23 5.84, 164.44 -0.16 M144.5 28.88 C149.78 22.8, 155.06 16.72, 169.43 0.2 M144.5 28.88 C152.45 19.73, 160.4 10.59, 169.43 0.2 M150.14 28.49 C159.07 18.22, 167.99 7.95, 175.07 -0.19 M150.14 28.49 C156.14 21.58, 162.15 14.67, 175.07 -0.19 M155.13 28.85 C164.41 18.17, 173.69 7.49, 180.06 0.17 M155.13 28.85 C164.35 18.24, 173.57 7.63, 180.06 0.17 M160.77 28.45 C169.45 18.46, 178.13 8.48, 185.7 -0.23 M160.77 28.45 C167.34 20.89, 173.92 13.33, 185.7 -0.23 M165.76 28.81 C172.59 20.95, 179.42 13.09, 190.69 0.13 M165.76 28.81 C171.76 21.9, 177.77 14.99, 190.69 0.13 M171.4 28.42 C176.9 22.09, 182.41 15.75, 196.33 -0.26 M171.4 28.42 C181.23 17.11, 191.06 5.8, 196.33 -0.26 M176.39 28.78 C184.59 19.35, 192.79 9.91, 201.32 0.1 M176.39 28.78 C181.45 22.95, 186.51 17.13, 201.32 0.1 M182.03 28.38 C191.4 17.61, 200.76 6.83, 205.65 1.21 M182.03 28.38 C190.17 19.01, 198.32 9.64, 205.65 1.21 M187.02 28.74 C192.1 22.9, 197.18 17.05, 206.04 6.86 M187.02 28.74 C192.89 21.98, 198.77 15.22, 206.04 6.86 M192 29.1 C194.97 25.69, 197.94 22.27, 205.78 13.25 M192 29.1 C194.87 25.81, 197.74 22.51, 205.78 13.25 M197.65 28.71 C200.3 25.65, 202.96 22.59, 205.52 19.65 M197.65 28.71 C200.73 25.16, 203.82 21.61, 205.52 19.65 M202.63 29.07 C203.74 27.8, 204.84 26.53, 205.91 25.3 M202.63 29.07 C203.48 28.09, 204.33 27.12, 205.91 25.3" stroke="#e64980" stroke-width="0.5" fill="none"></path><path d="M0 0 C75.78 0, 151.55 0, 204.49 0 M0 0 C49.12 0, 98.25 0, 204.49 0 M204.49 0 C204.49 10.93, 204.49 21.86, 204.49 27.43 M204.49 0 C204.49 10.84, 204.49 21.67, 204.49 27.43 M204.49 27.43 C123.02 27.43, 41.55 27.43, 0 27.43 M204.49 27.43 C147.17 27.43, 89.84 27.43, 0 27.43 M0 27.43 C0 18.6, 0 9.78, 0 0 M0 27.43 C0 17.26, 0 7.08, 0 0" stroke="transparent" stroke-width="1" fill="none"></path></g><g transform="translate(340.8760879748682 71.08472013458857) rotate(0 6.364193638068457 13.435519902588993)"><text x="6.364193638068471" y="21.871039805177986" font-family="Cascadia, Segoe UI Emoji" font-size="22.628244046465692px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">t</text></g><g transform="translate(427.3648290908414 14.353812287909307) rotate(0 28.44080680655958 5.078715501171359)"><text x="28.440806806559593" y="8.157431002342722" font-family="Cascadia, Segoe UI Emoji" font-size="8.941202907481701px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">origin + 2t</text></g><g stroke-linecap="round"><g transform="translate(54.162406918432225 181.87398410556284) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -17.81, 0 -35.63, 0 -72.8 M0 0 C0 -24.38, 0 -48.77, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(54.162406918432225 181.87398410556284) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.55 -69.47, 3.1 -66.15, 6.34 -59.21 M0 -72.8 C2.12 -68.25, 4.25 -63.69, 6.34 -59.21 M6.34 -59.21 C3.38 -59.21, 0.42 -59.21, -6.34 -59.21 M6.34 -59.21 C3.35 -59.21, 0.36 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.21 -63.78, -2.07 -68.35, 0 -72.8 M-6.34 -59.21 C-4.07 -64.08, -1.79 -68.96, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(80.96240691843235 180.6739841055628) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -17.25, 0 -34.51, 0 -72.8 M0 0 C0 -23.83, 0 -47.67, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(80.96240691843235 180.6739841055628) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.5 -69.58, 3 -66.36, 6.34 -59.21 M0 -72.8 C2.08 -68.35, 4.15 -63.9, 6.34 -59.21 M6.34 -59.21 C1.36 -59.21, -3.62 -59.21, -6.34 -59.21 M6.34 -59.21 C2.29 -59.21, -1.76 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.4 -63.36, -2.46 -67.52, 0 -72.8 M-6.34 -59.21 C-4.17 -63.85, -2 -68.5, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(106.36240691843227 180.47398410556275) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -14.63, 0 -29.27, 0 -72.8 M0 0 C0 -14.71, 0 -29.43, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(106.36240691843227 180.47398410556275) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.27 -70.07, 2.55 -67.33, 6.34 -59.21 M0 -72.8 C1.28 -70.05, 2.56 -67.3, 6.34 -59.21 M6.34 -59.21 C3.1 -59.21, -0.14 -59.21, -6.34 -59.21 M6.34 -59.21 C1.35 -59.21, -3.64 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.53 -63.09, -2.71 -66.98, 0 -72.8 M-6.34 -59.21 C-4.08 -64.05, -1.82 -68.9, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(133.16240691843234 181.2739841055627) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -27.17, 0 -54.33, 0 -72.8 M0 0 C0 -18.96, 0 -37.91, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(133.16240691843234 181.2739841055627) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C2.37 -67.73, 4.73 -62.65, 6.34 -59.21 M0 -72.8 C1.65 -69.26, 3.3 -65.72, 6.34 -59.21 M6.34 -59.21 C2.8 -59.21, -0.74 -59.21, -6.34 -59.21 M6.34 -59.21 C3.19 -59.21, 0.03 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.9 -62.29, -3.46 -65.38, 0 -72.8 M-6.34 -59.21 C-4.97 -62.13, -3.61 -65.06, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(157.9624069184324 181.2739841055627) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -22.31, 0 -44.61, 0 -72.8 M0 0 C0 -26.26, 0 -52.52, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(157.9624069184324 181.2739841055627) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.94 -68.63, 3.88 -64.47, 6.34 -59.21 M0 -72.8 C2.29 -67.9, 4.57 -62.99, 6.34 -59.21 M6.34 -59.21 C2.17 -59.21, -2 -59.21, -6.34 -59.21 M6.34 -59.21 C3.45 -59.21, 0.55 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.48 -63.2, -2.61 -67.2, 0 -72.8 M-6.34 -59.21 C-3.94 -64.34, -1.55 -69.48, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(184.76240691843276 181.07398410556266) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -18.66, 0 -37.33, 0 -72.8 M0 0 C0 -27.56, 0 -55.13, 0 -72.8" stroke="#c92a2a" stroke-width="1" fill="none"></path></g><g transform="translate(184.76240691843276 181.07398410556266) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#c92a2a" fill-rule="evenodd"></path><path d="M0 -72.8 C1.63 -69.31, 3.25 -65.83, 6.34 -59.21 M0 -72.8 C2.4 -67.65, 4.8 -62.51, 6.34 -59.21 M6.34 -59.21 C3.27 -59.21, 0.21 -59.21, -6.34 -59.21 M6.34 -59.21 C2.83 -59.21, -0.69 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.01 -64.21, -1.67 -69.21, 0 -72.8 M-6.34 -59.21 C-4.52 -63.11, -2.7 -67.01, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#c92a2a" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(225.76240691843253 181.87398410556284) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -26.42, 0 -52.85, 0 -72.8 M0 0 C0 -26.62, 0 -53.24, 0 -72.8" stroke="#c92a2a" stroke-width="1" fill="none"></path></g><g transform="translate(225.76240691843253 181.87398410556284) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#c92a2a" fill-rule="evenodd"></path><path d="M0 -72.8 C2.3 -67.87, 4.6 -62.93, 6.34 -59.21 M0 -72.8 C2.32 -67.83, 4.64 -62.86, 6.34 -59.21 M6.34 -59.21 C2.47 -59.21, -1.4 -59.21, -6.34 -59.21 M6.34 -59.21 C3.26 -59.21, 0.18 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.48 -63.18, -2.63 -67.16, 0 -72.8 M-6.34 -59.21 C-3.92 -64.4, -1.49 -69.6, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#c92a2a" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(263.2624069184324 180.67398410556302) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -16.41, 0 -32.82, 0 -72.8 M0 0 C0 -18.84, 0 -37.68, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(263.2624069184324 180.67398410556302) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.43 -69.74, 2.86 -66.67, 6.34 -59.21 M0 -72.8 C1.64 -69.28, 3.28 -65.76, 6.34 -59.21 M6.34 -59.21 C1.91 -59.21, -2.51 -59.21, -6.34 -59.21 M6.34 -59.21 C2.59 -59.21, -1.16 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.7 -62.72, -3.06 -66.23, 0 -72.8 M-6.34 -59.21 C-4.48 -63.2, -2.61 -67.2, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(390.0624069184324 181.87398410556307) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -17.27, 0 -34.54, 0 -72.8 M0 0 C0 -23.08, 0 -46.16, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(390.0624069184324 181.87398410556307) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C1.5 -69.58, 3.01 -66.35, 6.34 -59.21 M0 -72.8 C2.01 -68.49, 4.02 -64.18, 6.34 -59.21 M6.34 -59.21 C2.06 -59.21, -2.21 -59.21, -6.34 -59.21 M6.34 -59.21 C2.16 -59.21, -2.02 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.7 -62.72, -3.07 -66.23, 0 -72.8 M-6.34 -59.21 C-4.7 -62.71, -3.07 -66.22, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(415.46240691843246 181.67398410556302) rotate(0 0 -36.400000000000006)"><path d="M0 0 C0 -24.34, 0 -48.68, 0 -72.8 M0 0 C0 -21.36, 0 -42.71, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g><g transform="translate(415.46240691843246 181.67398410556302) rotate(0 0 -36.400000000000006)"><path d="M0 -72.8 L6.34 -59.21 L-6.34 -59.21 L0 -72.8" stroke="none" stroke-width="0" fill="#087f5b" fill-rule="evenodd"></path><path d="M0 -72.8 C2.12 -68.25, 4.24 -63.71, 6.34 -59.21 M0 -72.8 C1.86 -68.81, 3.72 -64.82, 6.34 -59.21 M6.34 -59.21 C3.38 -59.21, 0.43 -59.21, -6.34 -59.21 M6.34 -59.21 C3.56 -59.21, 0.79 -59.21, -6.34 -59.21 M-6.34 -59.21 C-4.5 -63.16, -2.65 -67.11, 0 -72.8 M-6.34 -59.21 C-4.51 -63.14, -2.67 -67.06, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8 M0 -72.8 C0 -72.8, 0 -72.8, 0 -72.8" stroke="#087f5b" stroke-width="1" fill="none"></path></g></g></svg>

همینطور که توی تصویر ۲ می‌بینید، توی بازه زمانی اول ۵ درخواست اول قبول شدند (فلش های سبز) و ۲ درخواست بعدی بلاک شدند و در بازه زمانی دوم مجدد ۵ درخواست اول بازه فقط قابل قبول است.

یک نمونه پیاده سازی این الگوریتم به زبان Rust:

```rust
// <hide>
use std::collections::HashMap;
use std::time::{Duration, SystemTime};
// </hide>

struct Rule {
    time_duration: Duration,
    rate: usize,
}

/// State[int(now / time_duration)] -> counted requests
type State = HashMap<u128, usize>;

fn is_rate_limited(
    origin: SystemTime,
    current_time: SystemTime,
    rule: &Rule,
    state: &mut State,
) -> bool {
    let current_time_ms = current_time.duration_since(origin).unwrap().as_millis();
    let time_duration_ms = rule.time_duration.as_millis();
    let state_idx = current_time_ms / time_duration_ms;

    let t_state = state.entry(state_idx).or_insert(0);

    *t_state += 1;

    *t_state > rule.rate
}

// <hide>
fn main() {
    let rule = &Rule {
        time_duration: Duration::from_secs(5),
        rate: 5,
    };
    let origin = SystemTime::now();
    let mut current_time = SystemTime::now();
    let state = &mut HashMap::new();

    for _ in 1..=5 {
        assert_eq!(is_rate_limited(origin, current_time, rule, state), false);
    }
    assert_eq!(is_rate_limited(origin, current_time, rule, state), true);
    current_time += Duration::from_secs(5);
    assert_eq!(is_rate_limited(origin, current_time, rule, state), false);
}
// </hide>
```
